<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.2. Configuration &#8212; Clone Cloud Store [CCS] 0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=472322c9" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <script src="../_static/documentation_options.js?v=5a5a329e"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.3. Open API" href="OpenAPI.html" />
    <link rel="prev" title="3.1. BPMN for Accessor" href="BPMN.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Architecture/index.html">1. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/index.html">2. Commons</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Accessor</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="BPMN.html">3.1. BPMN for Accessor</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.2. Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#various-accessor-services">3.2.1. Various Accessor services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#accessor-replicator">3.2.1.1. Accessor-Replicator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accessor-simple-gateway">3.2.1.2. Accessor-Simple-Gateway</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accessor-server">3.2.1.3. Accessor-Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#application-yaml-configuration">3.2.2. application.yaml configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OpenAPI.html">3.3. Open API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Replicator/index.html">4. Replicator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reconciliator/index.html">5. Reconciliator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Administration/index.html">6. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">7. Object Storage Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dev/index.html">8. Dev Detail</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html"><span class="section-number">3. </span>Accessor</a><ul>
      <li>Previous: <a href="BPMN.html" title="previous chapter"><span class="section-number">3.1. </span>BPMN for Accessor</a></li>
      <li>Next: <a href="OpenAPI.html" title="next chapter"><span class="section-number">3.3. </span>Open API</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration">
<h1><span class="section-number">3.2. </span>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h1>
<p>** TODO **</p>
<section id="various-accessor-services">
<h2><span class="section-number">3.2.1. </span>Various Accessor services<a class="headerlink" href="#various-accessor-services" title="Link to this heading">¶</a></h2>
<section id="accessor-replicator">
<h3><span class="section-number">3.2.1.1. </span>Accessor-Replicator<a class="headerlink" href="#accessor-replicator" title="Link to this heading">¶</a></h3>
<p>Used by remote request from Replicator. It listens to a Topic <code class="docutils literal notranslate"><span class="pre">replicator-action-in</span></code> from (local) Remote Replicator and is
able, through the Local Replicator to access to remote Object if needed for local creation (clone)
or to Accessor Internal Service.</p>
<p>This service has no API and only uses a Topic as incoming requests.</p>
</section>
<section id="accessor-simple-gateway">
<h3><span class="section-number">3.2.1.2. </span>Accessor-Simple-Gateway<a class="headerlink" href="#accessor-simple-gateway" title="Link to this heading">¶</a></h3>
<p>Simple Cloud Storage Gateway without any database and replication nor reconciliation support.</p>
<p>It is means for an easy move from existing storage to Cloud Clone Store, to later on apply the real Accessor service.</p>
</section>
<section id="accessor-server">
<h3><span class="section-number">3.2.1.3. </span>Accessor-Server<a class="headerlink" href="#accessor-server" title="Link to this heading">¶</a></h3>
<p>Used by application (clients) to interact with Cloud Storage, enabling replication and remote access and reconciliation,
using the public API.</p>
<p>It is also used internally by all services when they need to access or interact with buckets and objects, through the
internal API, which must be not available to other services than Cloud Clone Store itself.</p>
</section>
</section>
<section id="application-yaml-configuration">
<h2><span class="section-number">3.2.2. </span>application.yaml configuration<a class="headerlink" href="#application-yaml-configuration" title="Link to this heading">¶</a></h2>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Accessor Cloud Clone Store Client Configuration</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.accessor.client.api.AccessorBucketApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.accessor.client.api.AccessorObjectApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Accessor Cloud Clone Store Internal Client Configuration</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.accessor.client.internal.api.AccessorBucketInternalApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.accessor.client.internal.api.AccessorObjectInternalApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Accessor Replicator Cloud Clone Store Service Configuration</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property or Environment variable</p></th>
<th class="head"><p>Possible Values</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.site</span></code></p></td>
<td><p>Name of the site</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">unconfigured</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.internal.compression</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>, True to allow compression between services</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Redefining <code class="docutils literal notranslate"><span class="pre">mp.messaging.incoming.replicator-action-in</span></code> or env <code class="docutils literal notranslate"><span class="pre">CCS_REQUEST_ACTION</span></code></p></td>
<td><p>Name of the incoming topic for Action Requests</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">request-action</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.mongodb.database</span></code></p></td>
<td><p>Name of the associated database (if MongoDB used, with ccs.db.type = mongo)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.replicator.client.api.LocalReplicatorApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Accessor Cloud Clone Store Service Configuration</span><a class="headerlink" href="#id4" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property or Environment variable</p></th>
<th class="head"><p>Possible Values</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.site</span></code></p></td>
<td><p>Name of the site</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">unconfigured</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.remote.read</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>, True to allow remote access when object not locally found</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.remote.fixOnAbsent</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>, True to allow to fix using remote accessed object</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.internal.compression</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>, True to allow compression between services</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Redefining <code class="docutils literal notranslate"><span class="pre">mp.messaging.outgoing.replicator-action-out</span></code> or env <code class="docutils literal notranslate"><span class="pre">CCS_REQUEST_ACTION</span></code></p></td>
<td><p>Name of the outgoing topic for Action Requests</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">request-action</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Redefining <code class="docutils literal notranslate"><span class="pre">mp.messaging.outgoing.replicator-request-out</span></code> or env <code class="docutils literal notranslate"><span class="pre">CCS_REQUEST_REPLICATION</span></code></p></td>
<td><p>Name of the outgoing topic for Replication Requests</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">request-replication</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.mongodb.database</span></code></p></td>
<td><p>Name of the associated database (if MongoDB used, with ccs.db.type = mongo)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.rest-client.&quot;io.clonecloudstore.replicator.client.api.LocalReplicatorApi&quot;.url</span></code></p></td>
<td><p>Http(s) url of the service</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>For both <em>Accessor Replicator Cloud Clone Store Service</em> and <em>Accessor Cloud Clone Store Service</em>,
an extra configuration is needed according to the Storage Driver used:</p>
<ul class="simple">
<li><p>Note that <code class="docutils literal notranslate"><span class="pre">maxPartSizeForUnknownLength</span></code> should be defined according to memory available and concurrent access, as
each transfer (upload or download) could lead to one buffer of this size for each.</p></li>
</ul>
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">Driver for S3 Service Configuration</span><a class="headerlink" href="#id5" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.host</span></code></p></td>
<td><p>S3 Host (do not use <code class="docutils literal notranslate"><span class="pre">quarkus.s3.endpoint-override</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.keyId</span></code></p></td>
<td><p>S3 KeyId (do not use <code class="docutils literal notranslate"><span class="pre">quarkus.s3.aws.credentials.static-provider.access-key-id</span></code> nor <code class="docutils literal notranslate"><span class="pre">aws.accessKeyId</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.key</span></code></p></td>
<td><p>S3 Key (do not use <code class="docutils literal notranslate"><span class="pre">quarkus.s3.aws.credentials.secret-access-key</span></code> nor <code class="docutils literal notranslate"><span class="pre">aws.secretAccessKey</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.region</span></code></p></td>
<td><p>S3 Region (do not use <code class="docutils literal notranslate"><span class="pre">quarkus.s3.aws.region</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.maxPartSize</span></code></p></td>
<td><p>MultiPart size (minimum 5 MB, maximum 5 GB, default 256 MB)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.s3.maxPartSizeForUnknownLength</span></code></p></td>
<td><p>512 MB as in <code class="docutils literal notranslate"><span class="pre">ccs.driverMaxChunkSize</span></code>, MultiPart size (minimum 5 MB, maximum ~2 GB): will be used to buffer InputStream if length is unknown, so take  care of the Memory consumption associated (512 MB, default, will limit the total InputStream length to 5 TB since 10K parts)</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Driver for Azure Blob Storage Service Configuration</span><a class="headerlink" href="#id6" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.azure.storage.blob.connection-string</span></code></p></td>
<td><p>Connection String to Azure Blob Storage (see <a class="reference external" href="https://docs.quarkiverse.io/quarkus-azure-services/dev/index.html">https://docs.quarkiverse.io/quarkus-azure-services/dev/index.html</a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.azure.maxConcurrency</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span></code>, Maximum concurrency in upload/download with Azure Blob Storage</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.azure.maxPartSize</span></code></p></td>
<td><p>256 MB, MultiPart size (minimum 5 MB, maximum 4 GB, default 256 MB)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.azure.maxPartSizeForUnknownLength</span></code></p></td>
<td><p>512 MB as in <code class="docutils literal notranslate"><span class="pre">ccs.driverMaxChunkSize</span></code>, MultiPart size (minimum 5 MB, maximum ~2 GB): will be used to buffer InputStream if length is unknown, so take  care of the Memory consumption associated (512 MB, default, will limit the total InputStream length to 25 TB since 50K parts)</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id7">
<caption><span class="caption-text">Driver for Google Cloud Storage Service Configuration</span><a class="headerlink" href="#id7" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">quarkus.google.cloud.project-id</span></code></p></td>
<td><p>Project Id in Google Cloud (and related Authentication see <a class="reference external" href="https://docs.quarkiverse.io/quarkus-google-cloud-services/main/index.html">https://docs.quarkiverse.io/quarkus-google-cloud-services/main/index.html</a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.google.disableGzip</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code>, Default is to use Gzip content, but may be disabled (default: true so disabled)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.google.maxPartSize</span></code></p></td>
<td><p>256 MB, MultiPart size (minimum 5 MB, maximum 4 GB, default 256 MB) (<strong>Property ignored</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.driver.google.maxBufSize</span></code></p></td>
<td><p>128 MB; MultiPart size (minimum 5 MB, maximum ~2 GB): will be used to buffer InputStream if length is unknown, so take  care of the Memory consumption associated (128 MB, default)</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id8">
<caption><span class="caption-text">Accessor Simple Gateway Cloud Clone Store Service Configuration</span><a class="headerlink" href="#id8" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Property/Yaml property</p></th>
<th class="head"><p>Possible Values</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ccs.accessor.site</span></code></p></td>
<td><p>Name of the site</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">unconfigured</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2022, Frederic Bregier.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/Accessor/Configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>